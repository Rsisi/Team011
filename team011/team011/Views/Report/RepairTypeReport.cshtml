@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
    var typerepairreports = ViewBag.TypeRepairReport as List<TypeRepairReport>;
    string tempManufacturerName = ViewBag.tempManufacturerName;
}
<h1>Report - Repair</h1>

<div class="btn-group mt-3">

    <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        Get Reports
    </button>
    <div class="dropdown-menu">
        <a class="dropdown-item" href="/Report/ColorReport">Sales by Color</a>
        <a class="dropdown-item" href="/Report/VehicleTypeReport">Sales by Vehicle Type</a>
        <a class="dropdown-item" href="/Report/ManufacturerReport">Sales by Manufacturer</a>
        <a class="dropdown-item" href="/Report/GrossCustomerIncomeReport">Gross Customer Income</a>
        <a class="dropdown-item" href="/Report/RepairReport">Repair Reports</a>
        <a class="dropdown-item" href="/Report/BelowCostSaleReport">Below Cost Sales</a>
        <a class="dropdown-item" href="/Report/AverageInventoryTimeReport">View Average Inventory Time</a>
        <a class="dropdown-item" href="/Report/PartReport">Parts Statistics</a>
        <a class="dropdown-item" href="/Report/MonthlySaleReport">Monthly Sales</a>
    </div>
</div>

<a href="/Report/RepairReport" class="btn btn-primary btn-lg active" role="button" aria-pressed="true">Back to Repair by Manufacturer</a>

<h1>Detail for @tempManufacturerName</h1>
<h2>Vehicle Type</h2>

<div id="tblrepairbytype" style="padding-top:5px">
    <table id="tblrepairbytype" class="table table-striped table-bordered" style="width:100%">
        <thead>
            <tr>
                <th>
                    Vehicle Type
                </th>
                <th>
                    Number of Repairs
                </th>
                <th>
                    Parts Total Cost
                </th>
                <th>
                    Labor Total Cost
                </th>
                <th>
                    Repair Total
                </th>
            </tr>
        </thead>
        <tbody id="tblrepairbytype">


            @foreach (var r in typerepairreports)
            {

                <tr>
                    <td>
                        @*<a href="/Report/RepairModelReport?VehicleType=@r.vehicle_type&amp;@tempManufacturerName">*@

                        <a href="@Url.Action("RepairModelReport","Report", new { @VehicleType = r.vehicle_type, @tempManufacturerName = tempManufacturerName})">
                            @r.vehicle_type
                        </a>

                    </td>
                    <th>
                        @r.repair_count
                    </th>
                    <td>
                        @r.total_parts_cost
                    </td>
                    <td>
                        @r.total_labor_charge
                    </td>
                    <td>
                        @r.total_repair_cost
                    </td>

                </tr>

            }




        </tbody>
    </table>

</div>
